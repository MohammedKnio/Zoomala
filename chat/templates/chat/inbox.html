{% extends "base.html" %}

{% block content %}
<!-- chat/templates/chat/index.html -->

<body>
    What user would you like to chat with?<br>
    <input id="room-name-input" type="text" size="100"><br>
    <input id="room-name-submit" type="button" value="Enter">
    
    <h5> Recent Zoomala Chats </h5>

    <div class="row">

            {% for otherProfile in otherProfiles %}

          <div class="col-sm-2 col-md-2">

          <a href= {% url 'chats:thread' otherProfile.user.username %}>
              <img src="{{ otherProfile.image.url }} "
              alt="" class="img-rounded img-responsive" /> </a>
          </div>
          <div class="col-sm-4 col-md-4">
              <blockquote>
                  <p>{{otherProfile.user.username}} </p> {% if otherProfile.location != None %} <small><cite title="Source Title">{{otherProfile.location}}  <i class="glyphicon glyphicon-map-marker"></i></cite></small> {% endif %}
              </blockquote>
              <p> <i class="glyphicon glyphicon-envelope"></i> {{otherProfile.user.email}}
                  <br/> 

                  <button><a href= {% url 'profiles:specificUserProfile' otherProfile.user.username %}> Visit Profile </a></button>
          </div>
    
    {% endfor %}

    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };
         document.querySelector('#room-name-input').onkeyup =  function(e) {
            if (e.keyCode === 13) {  // enter, return
                window.location += '/messages/' + document.querySelector('#room-name-input').val
            }
        };

        

        
    </script>

{% endblock %}